//@ui5-bundle com/general/nitin/Component-preload.js
sap.ui.require.preload({
	"com/general/nitin/Component.js":function(){sap.ui.define(["sap/ui/core/UIComponent","sap/ui/model/json/JSONModel","sap/ui/core/date/Gregorian","sap/ui/core/ComponentSupport"],function(e,t){"use strict";return e.extend("com.general.nitin.Component",{metadata:{interfaces:["sap.ui.core.IAsyncContentCreation"],manifest:"json"},init:function(){this.setModel(new t({"@odata.context":"$metadata#Books(genre())",value:[{createdAt:"2022-10-18T12:25:17.907Z",modifiedAt:"2022-10-18T12:25:17.907Z",ID:201,title:"Wuthering Heights",descr:"Wuthering Heights, Emily Brontë's only novel, was published in 1847 under the pseudonym \"Ellis Bell\". It was written between October 1845 and June 1846. Wuthering Heights and Anne Brontë's Agnes Grey were accepted by publisher Thomas Newby before the success of their sister Charlotte's novel Jane Eyre. After Emily's death, Charlotte edited the manuscript of Wuthering Heights and arranged for the edited version to be published as a posthumous second edition in 1850.",author:"Emily Brontë",genre_ID:11,stock:12,price:11.11,currency_code:"GBP","image@odata.mediaContentType":"image/png",genre:{name:"Drama",descr:null,ID:11,parent_ID:10}},{createdAt:"2022-10-18T12:25:17.907Z",modifiedAt:"2022-10-18T12:25:17.907Z",ID:207,title:"Jane Eyre",descr:"Jane Eyre /ɛər/ (originally published as Jane Eyre: An Autobiography) is a novel by English writer Charlotte Brontë, published under the pen name \"Currer Bell\", on 16 October 1847, by Smith, Elder & Co. of London. The first American edition was published the following year by Harper & Brothers of New York. Primarily a bildungsroman, Jane Eyre follows the experiences of its eponymous heroine, including her growth to adulthood and her love for Mr. Rochester, the brooding master of Thornfield Hall. The novel revolutionised prose fiction in that the focus on Jane's moral and spiritual development is told through an intimate, first-person narrative, where actions and events are coloured by a psychological intensity. The book contains elements of social criticism, with a strong sense of Christian morality at its core and is considered by many to be ahead of its time because of Jane's individualistic character and how the novel approaches the topics of class, sexuality, religion and feminism.",author:"Charlotte Brontë",genre_ID:11,stock:11,price:12.34,currency_code:"GBP","image@odata.mediaContentType":"image/png",genre:{name:"Drama",descr:null,ID:11,parent_ID:10}},{createdAt:"2022-10-18T12:25:17.907Z",modifiedAt:"2022-10-18T12:25:17.907Z",ID:251,title:"The Raven",descr:'"The Raven" is a narrative poem by American writer Edgar Allan Poe. First published in January 1845, the poem is often noted for its musicality, stylized language, and supernatural atmosphere. It tells of a talking raven\'s mysterious visit to a distraught lover, tracing the man\'s slow fall into madness. The lover, often identified as being a student, is lamenting the loss of his love, Lenore. Sitting on a bust of Pallas, the raven seems to further distress the protagonist with its constant repetition of the word "Nevermore". The poem makes use of folk, mythological, religious, and classical references.',author:"Edgar Allen Poe",genre_ID:16,stock:333,price:13.13,currency_code:"USD","image@odata.mediaContentType":"image/png",genre:{name:"Mystery",descr:null,ID:16,parent_ID:10}},{createdAt:"2022-10-18T12:25:17.907Z",modifiedAt:"2022-10-18T12:25:17.907Z",ID:252,title:"Eleonora",descr:'"Eleonora" is a short story by Edgar Allan Poe, first published in 1842 in Philadelphia in the literary annual The Gift. It is often regarded as somewhat autobiographical and has a relatively "happy" ending.',author:"Edgar Allen Poe",genre_ID:16,stock:555,price:14,currency_code:"USD","image@odata.mediaContentType":"image/png",genre:{name:"Mystery",descr:null,ID:16,parent_ID:10}},{createdAt:"2022-10-18T12:25:17.907Z",modifiedAt:"2022-10-18T12:25:17.907Z",ID:271,title:"Catweazle",descr:"Catweazle is a British fantasy television series, starring Geoffrey Bayldon in the title role, and created by Richard Carpenter for London Weekend Television. The first series, produced and directed by Quentin Lawrence, was screened in the UK on ITV in 1970. The second series, directed by David Reid and David Lane, was shown in 1971. Each series had thirteen episodes, most but not all written by Carpenter, who also published two books based on the scripts.",author:"Richard Carpenter",genre_ID:13,stock:22,price:150,currency_code:"JPY","image@odata.mediaContentType":"image/png",genre:{name:"Fantasy",descr:null,ID:13,parent_ID:10}}]}));e.prototype.init.apply(this,arguments)},onAfterRendering:function(){document.body.classList.remove("loading")}})});
},
	"com/general/nitin/boot.js":function(){window["sap-ui-config"]={compatVersion:"edge",async:true,language:"en",resourceroots:{"com.general.nitin":"./"},onInit:"module:sap/ui/core/ComponentSupport",theme:function(){try{return window.matchMedia("(prefers-color-scheme: dark)").matches?"sap_horizon_dark":"sap_horizon"}catch(e){console.warn("window.matchMedia not supported - keep default theme");return"sap_horizon"}}()};
},
	"com/general/nitin/controller/App.controller.js":function(){sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/ui/model/Filter","sap/ui/model/FilterOperator"],function(e,t,r,o){"use strict";return e.extend("com.general.nitin.controller.App",{onInit:function(){this.getView().setModel(new t({itemSelected:false,selectedQuantity:1}),"userSelection")},onSelect:function(e){let t=this.getView().getModel("userSelection");let r=e.getSource().getBindingContext().sPath;let o=e.getSource().getModel().getProperty(r);t.setProperty("/selectedItemPath",r);t.setProperty("/selectedItemData",o);t.setProperty("/selectedQuantity",1);this.getView().byId("orderStatus").setText("");t.setProperty("/itemSelected",true)},onSubmitOrder:function(){let e=this.getView();let t=e.getModel("userSelection").getData();let r={url:"/browse/submitOrder",method:"POST",timeout:0,headers:{"Content-Type":"application/json"},data:JSON.stringify({book:t.selectedItemData.ID,quantity:t.selectedQuantity})};let o=e.getModel("i18n");jQuery.ajax(r).done(function(r){console.log(r);e.byId("orderStatus").setText(`${o.getProperty("orderSuccessful")} \n                            (${t.selectedItemData.title}, \n                            ${t.selectedQuantity} \n                            ${o.getProperty("pieces")})`);e.byId("orderStatus").setState("Success");let s=e.getModel("userSelection").getProperty("/selectedItemPath");e.getModel().setProperty(s+"/stock",r.stock);e.getModel("userSelection").setProperty("/selectedItemData/stock",r.stock)}).fail(function(t){console.log(t);e.byId("orderStatus").setText(`${o.getProperty("Error")}`);e.byId("orderStatus").setState("Error")})},onSearch:function(e){var t=[];var s=e.getParameter("newValue");if(s){t.push(new r("title",o.Contains,s))}var i=this.byId("booksTable");var l=i.getBinding("items");l.filter(t);let n=this.getView().getModel("userSelection");n.setProperty("/selectedItemPath",{});n.setProperty("/selectedItemData",{});this.getView().byId("orderStatus").setText("");n.setProperty("/itemSelected",false)}})});
},
	"com/general/nitin/i18n/i18n_en.properties":'    Bookshop=Bookshop\n    Book=Book\n    Author=Author\n    Genre=Genre\n    Price=Price\n    Stock=Stock\n    Order=Order\n    orderSuccessful=Order successful\n    pieces=pcs.\n    Error=Error',
	"com/general/nitin/manifest.json":'{"sap.app":{"id":"com.general.nitin","type":"application","title":"General Nitin","applicationVersion":{"version":"1.0.0"}},"sap.ui5":{"rootView":{"viewName":"com.general.nitin.view.App","type":"XML","id":"app"},"dependencies":{"minUI5Version":"1.107.1","libs":{"sap.ui.core":{},"sap.m":{}}},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleName":"com.general.nitin.i18n.i18n","supportedLocales":["en"],"fallbackLocale":"en"}}}}}',
	"com/general/nitin/view/App.view.xml":'<mvc:View\n    xmlns="sap.m"\n    xmlns:mvc="sap.ui.core.mvc"\n    controllerName="com.general.nitin.controller.App"><App><pages><Page title="{i18n>Bookshop}"><content><Panel\n                headerText="Hello, Dev!"><content><SearchField liveChange=".onSearch"/><Table\n                        id="booksTable"\n                        items="{/value}"><columns><Column><Text text="{i18n>Book}" /></Column><Column><Text text="{i18n>Author}" /></Column><Column><Text text="{i18n>Genre}" /></Column><Column><Text text="{i18n>Price}" /></Column><Column><Text text="{i18n>Stock}" /></Column></columns><items><ColumnListItem \n                                vAlign="Middle"\n                                press=".onSelect"\n                                type="Active"><cells><ObjectIdentifier\n                                        title="{title}"/><Text\n                                        text="{author}" /><Text\n                                        text="{genre/name}" /><ObjectNumber\n                                        number="{price}"\n                                        unit="{currency_code}" /><ObjectStatus \n                                        text="{stock}"\n                                        state="{=\n                                            ${stock} >= 20\n                                                ? \'Success\'\n                                            : ${stock} > 0\n                                                ? \'Warning\'\n                                            : \'Error\'}" /></cells></ColumnListItem></items></Table><FlexBox direction="Column" class="sapUiMediumMarginTop"><FlexBox alignItems="Center" justifyContent="End" class="orderControls" ><ObjectStatus id="orderStatus" text="" /><Button \n                                text="Order"\n                                press=".onSubmitOrder"\n                                enabled="{= \n                                    ${userSelection>/itemSelected} === true \n                                        ? ${userSelection>/selectedItemData/stock} === 0 \n                                            || ${userSelection>/selectedQuantity} === 0\n                                            ? false \n                                            : true \n                                        : false}" /><StepInput\n                                value="{userSelection>/selectedQuantity}"\n                                min="0"\n                                textAlign="Center"\n                                max="{userSelection>/selectedItemData/stock}"\n                                enabled="{= \n                                    ${userSelection>/itemSelected} === true \n                                        ? ${userSelection>/selectedItemData/stock} === 0 \n                                            ? false \n                                            : true \n                                        : false}" /></FlexBox><FlexBox direction="Column" ><Title text="{userSelection>/selectedItemData/title}" /><Text \n                                text="{userSelection>/selectedItemData/descr}"\n                                class="sapUiSmallMarginTop" /></FlexBox></FlexBox></content></Panel></content></Page></pages></App></mvc:View>'
});
